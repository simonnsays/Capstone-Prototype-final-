<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.8">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="./assistant/assistant.css">

    <link rel="icon" href="../favicon.png" type="image/x-icon">
    <title>PC Assembly and Troubleshooting</title>
    <style>
       .checkmark {
        width: 30px;
        height: 30px;
        opacity: 0;
        transition: opacity 0.3s ease;
        }

        .completed-task .checkmark {
            display: block; /* Make the checkmark visible when completed */
            opacity: 1;
        }

        /* Additional style for completed tasks */
        .completed-task {
            background-color: #e0ffe0;
            color: #333;
            transition: background-color 0.3s ease;
        }

        .completed-task .tasktitle {
            text-decoration: line-through;
            color: #888;
        }

        #task-status {
        position: fixed;
        left: 10px;
        top: 10px;
        font-size: 18px;
        font-weight: bold;
        color: #333;
        }   

        /* .glowing-container { */
            /* background-color: rgba(171, 214, 153, .8); */
            /* background-color: #c62828; */
            /* background: linear-gradient(to bottom, red, black); */
            /* background: radial-gradient(circle at center, red, yellow);


            font-weight:normal;
            width: 500;
            height: 200;
            position: relative;

            margin-bottom: 10px;
            border-radius: 20px;
            padding: 5px;

            overflow: auto;
            /* animation: reportCellSlide .4s ease-in; */
            /* animation: blink 1.5s infinite; */ 
        /* } */

        @keyframes blink {
            0% {
            opacity: .5;
            }
            50% {
            opacity: 1;
            }
            100% {
            opacity: .5;
            }
        }
        
        /* .blinking-element {
            animation: blink 1.5s infinite;
        } */
    </style>
</head>
<body>
    <!-- <div class="glowing-container">
        <div class="blinking-element">Loading...</div>
    </div> -->

    <!-- GAME CONTAINER -->
    <div class="game-container">
        <div id="wattageDisplay" class="wattC">Total Watts: 0W</div>
        <div class="button-wrapper">
            <button class="button" id="muneBtn" data-type="menu" data-active="false"></button>
            <button id="openShop" data-type="button">SHOP</button>
            <button id="openInv" data-type="button">INVENTORY</button>
            <button id="openWires" data-type="button">PORTS</button>
            <button id="openBootTab" data-type="button">BOOT</button>

            <button  id="mountUnmount" data-type="button">Mount Mode</button>
        </div>

        <!-- canvas -->
        <canvas id="simCanvas"></canvas>

        <div id="trashBin" class="trash-icon">
            <img src="./assets/trash-bin.png" alt="Trash Icon">
            <div class="tooltiptext">remove</div>
        </div>
        
         <!-- Custom confirmation dialog (initially hidden) -->
         <div id="trashConfrimDialog" class="dialog">
            <div id="trashClose" class="closeBtn">&times;</div>
            <div class="dialog-content">
                <p>Are you sure you want to remove this component?</p>
                <button id="trashConfirm">Yes</button>
                <button id="trashReturn">Return To<br>Inventory Instead</button>
            </div>
        </div>

            <!-- component labels -->
        <div class="rotate-wrapper">
            <button class="button" id="left">
                <img class="arrow" style="height: 90%;" src="./assets/svg/leftArr.svg" alt="left arrow">
            </button>
            <div class="wrapper">
                <p id="compLabel"></p>
                <p id="compName"></p>
                <p id="panelIndicator"></p>
            </div>
            
            <button class="button" id="right">
                <img class="arrow" style="height: 90%;" src="./assets/svg/rightArr.svg" alt="right arrow">
            </button>
        </div>

        </div>

    <!-- Component Information Modal -->
    <dialog id="itemInfoModal">
        <!-- info container -->
        <div class="itemInfoContainer">
            <!-- image container -->
            <div id="itemInfoImage"></div>
            
            <!-- item info name -->
            <div id="itemInfoNameContainer">
                <div class="infoLineBreak"></div>
                <p id="itemInfoName"></p>
                <div class="infoLineBreak"></div>
            </div>
            
            <!-- item info [SPECS] container -->
            <div id="itemInfoSpecsContainer">
                <h5>SPECS</h5>
                <ul id="itemInfoSpecs">
                </ul>
            </div>

            <!-- Buy and cancel buttons-->
            <div class="itemInfoBottomContainer">
                <div class="infoLineBreak"></div>
                <div class="itemInfoButtonsContainer">
                    <button id="button1" class="button">Buy</button>
                    <button id="button2" class="button">Cancel</button>
                </div>
            </div>

        </div>
    </dialog>

    <!-- SHOP MODAL -->
    <dialog id="shopModal" class="modal">
        <!-- TOP -->
        <div class="top">
            <div class="headline">
                <h2 class="title">SHOP</h2>
                <input type="search" class="search-bar" id="shopSearch" placeholder="Search.." autocomplete="off">
                <h2 id="money">$9999</h2>
            </div>

            <div class="category-scroll">
                <button data-category="shop" data-selected="false" data-id="chassis" class="button2 category-btn">Case</button>
                <button data-category="shop" data-selected="false" data-id="motherboard" class="button2 category-btn">Motherboard</button>
                <button data-category="shop" data-selected="false" data-id="cpu" class="button2 category-btn">CPU</button>
                <button data-category="shop" data-selected="false" data-id="psu" class="button2 category-btn">Power&nbsp;Supply</button>
                <button data-category="shop" data-selected="false" data-id="ram" class="button2 category-btn">Memory</button>
                <button data-category="shop" data-selected="false" data-id="storage" class="button2 category-btn">Storage</button>
                <button data-category="shop" data-selected="false" data-id="cooling" class="button2 category-btn">Cooling</button>
                <button data-category="shop" data-selected="false" data-id="gpu" class="button2 category-btn">GPU</button>
            </div>
            <hr>
        </div>
        
        <!-- MIDDLE -->
        <div class="items-shop">
            <!-- item divs are placed here -->
        </div>
        <!-- BOTTOM -->
        <div class="bottom">
            <hr>
            <div class="bottom-container">
                <label for="quickBuy" class="quick-buy">
                    <input type="checkbox" id="quickBuy" checked>Quick Buy
                </label>
                <button id="closeShop" class="button shop-btn">CLOSE</button>
            </div>
        </div>
    </dialog>

    <!-- IVENTORY MODAL -->
    <dialog id="invModal" class="modal">
        <div class="modal-wrapper">
            <div class="modal-header">
                INVENTORY
                <span id="closeInv" class="closeBtn">&times;</span>
            </div>

            <!-- item container -->
            <div id="invItemsContainer" class="modal-body">
                
            </div>
        </div>
    </dialog>

    <!-- WIRES MODAL -->
    <div id="wiresModal" class="modal">
        <div class="modal-wrapper">
            <!-- modal header -->
            <div class="modal-header no-margin">
                PORTS
                <span id="closeWires" class="closeBtn">&times;</span>
            </div>

            <!-- item container -->
            <div id="wiresItemsContainer" class="wire-body">
                <!-- body header -->
                <div id="bodyHeader">
                    <img src="./assets/svg/leftArr.svg" id="portLeft" width="50px" height="30px" >
                    <div class="port-label">
                        <div id="mainHead">PORTS</div>
                        <div id="portSubHead"> &nbsp</div>
                    </div>
                    <img src="./assets/svg/rightArr.svg" id="portRight" width="50px" height="30px">
                    
                </div>  

                <!-- ports area container -->
                <div id="portsContainer" data-length="single" class="length-2 ">
                   
                    <!-- port cells here.. -->

                                <!-- use cells reference ||| -->
                                <!--                     vvv -->
                    <!-- <div class="portCell"> -->
                        <!-- actual port  -->
                        <!-- <img class="port" src="./assets/motherboard/ports/mobo_port-fpanel.png"> -->
                        
                        <!-- port highlight -->
                        <!-- <div class="port-highlight"></div> -->
                        
                        <!-- cable attached to port -->
                        <!-- <img class="port-attached" src="./assets/wires/frontPanel/frontPanel-attached(gen).png"> -->
                        <!-- <img class="port-attached2" src="./assets/wires/sata-data/sata-data-attached(sata).png"> -->
                        
                        <!-- slider div for label -->
                        <!-- <div class="port-slider">24-Pin Power</div> -->
                    <!-- </div>    -->
                </div>
            </div>
        </div>
    </div>

    <!-- DRAWER / CABLES -->
    <div id="wiresDrawer">
        <!-- drag up pulley -->
        <div id="pulley">
            <img id="pulleyImage" src="./assets/svg/up-arrow-svgrepo-com (1).svg" alt="pulley up arrow">
        </div>

        <!-- cables / drawer contents -->
        <div id="cableContainer">

                            <!-- cells reference ||| -->
                            <!--                 vvv -->
            <!-- <div class="cableCell unused">
                <img src="./assets/wires/sata-data/sata-data-default.png">
                <div class="cable-slider"> 24-Pin Power Cable </div>
            </div> -->
            <!-- <div class="cableCell unused">
                <img src="./assets/wires/ATX-power/ATX-power-default.png">
                <div class="cable-slider"> 24-Pin Power Cable </div>
            </div> -->
            <!-- <div class="cableCell used">
                <img src="./assets/wires/8pin-power/8pin-power-default.png">
                <div class="cable-slider"> 24-Pin Power Cable </div>
            </div> -->
        </div>
    </div>

    <!-- BOOT UP MODAL -->
    <div id="bootUpTab" class="modal" >
        <div class="modal-wrapper">
            <!-- header -->
            <div class="modal-header no-margin">
                BOOT UP
                <span id="closeBootTab" class="closeBtn">&times;</span>
            </div>

            <!-- body -->
            <div class="bootTabBodyWrapper">
                <!-- report -->
                <div id="bootTabReport">
                   
                </div>
    
                    <div class="vertLine"></div>
                    <div class = "errorDialog"></div>
                    <!-- display -->
                    <div id="bootDisplay">
                        <img id="desk" src="./assets/desk.png" >
                        <div id="monitorScreen" class="monitorScreen"></div>
                        <img id="monitor" src="./assets/monitor.png" >                           
                        <div id="unitPlaceHolder">
                            <!-- image element here -->
                        </div>
                        <div id="powerButton">
                            <img src="./assets/svg/power-button.svg" alt="">
                        </div>
                    </div>

                    <!-- Troubleshooting -->
                    <div id="troubleShooting"></div>

                </div>
            </div>
        </div>

    </div>
    
        <!-- Boot Error Dialog -->
        <!-- <dialog id="bootErrorDialog" class="modal">
            <div class="dialog-content">
                <h3>Boot Error</h3>
                <p id="errorMessage">An unknown error occurred during boot-up.</p> 
                <button id="closeErrorDialogBtn">Close</button> 
            </div>
        </dialog> -->
        
        
    <!-- BIOS -->
    
    <dialog id="biosModal" class="modal">
        <div class="bios-wrapper">
            <div class="bios-header">
                <h2>BIOS SETUP UTILITY</h2>
                <span class="bios-info">
                    <p>Version: 2.0</p>
                    <p id="biosTime"></p>
                </span>
            </div>
            
            <div class="bios-container">
                <div class="bios-sidebar">
                    <ul class="bios-menu">
                        <li class="show">Main</li>
                        <li>Fan Control</li>
                        <li>Boot</li>
                    </ul>
                </div>
                <!--Main content-->
                <div class="bios-content">
                    <div class="bios-section show">
                        <h3>System Overview</h3>
                        <div class="bios-grid">
                            <div class="bios-item">
                                <span>Motherboard</span>
                                <span id="biosMobo"></span>
                            </div>
                            <div class="bios-item">
                                <span>Processor</span>
                                <span id="biosProcessor"></span>
                            </div>
                            <div class="bios-item">
                                <span>Memory Size</span>
                                <span id="biosMemory"></span>
                            </div>
                            <div class="bios-item">
                                <span>GPU</span>
                                <span id="biosGpu"></span>                              
                            </div>
                            <div class="bios-item">
                                <span>Storage</span>
                                <span id="biosStorage"></span>
                            </div>
                        </div>
                    </div> 

                    <!--Fan Control-->
                    <div class="bios-section">
                        <h3>Fan Control</h3>
                        <!--CPU fan settings-->
                        <div class="fan-control">
                            <div class="fan-profile">
                                <label>Profile:</label>
                                <select id="fanProfile">
                                    <option value="standard">Default</option>
                                    <option value="silent">Silent</option>
                                    <option value="turbo">Turbo</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="fan-speed-control">
                                <div>Temperature: <span id="cpuTemp"></span></div>
                                <label>CPU Fan Speed: <span id="fanSpeedValue">50%</span></label>
                                <input type="range" id="fanSpeed" min="0" max="100" value="50">
                                <div class="current-rpm">Current RPM: <span id="currentRpm"></span></div>
                            </div>
                        </div>
                        <!--GPU fan settings-->
                        <div class="fan-control">
                            <div class="fan-profile">
                                <label>GPU Profile:</label>
                                <select id="gpuFanProfile">
                                    <option value="standard">Default</option>
                                    <option value="silent">Silent</option>
                                    <option value="turbo">Turbo</option>
                                    <option value="custom">Custom</option>
                                </select>
                            </div>
                            <div class="fan-speed-control">
                                <div>Temperature: <span id="gpuTemp"></span></div>
                                <label>GPU Fan Speed: <span id="gpuFanSpeedValue">50%</span></label>
                                <input type="range" id="gpuFanSpeed" min="0" max="100" value="50">
                                <div class="gpu-status">
                                    <div>Current RPM: <span id="gpuCurrentRpm"></span></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!--Boot-->
                    <div class="bios-section">
                        <h3>Boot Configuration</h3>
                        <div class="boot-order">
                            <label>Boot Priority (Drag to reorder):</label>
                            <ul id="bootOrder" class="boot-list">
                                <!-- Will be populated dynamically -->
                            </ul>
                            
                            <div class="os-installation">
                                <div class="os-status">
                                    <span>OS Status: </span>
                                    <span id="osStatus">No OS Installed</span>
                                </div>
                                <div class="os-controls">
                                    <button id="installOS" class="bios-button">Install OS</button>
                                    <button id="deleteOS" class="bios-button danger">Delete OS</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
    
            <div class="bios-footer">
                <div class="key-commands">
                    <span>↑↓: Select Item</span>
                    <span>Enter: Select</span>
                    <span>ESC: Exit</span>
                </div>
                <button id="saveBiosSettings" class="bios-save">Save & Exit</button>
            </div>
    </dialog>

    <!-- <div id="task-status">Task to be done: Click me "The Assistant" </div> -->
    <!------------------------- ASSISTANT ----------------------------------->
    <!-- Mini Element -->
    <div id="assistantMini" class="assistant-mini">
        <!-- Icon Side -->
        <div class="icon-section">
                <div id="pulse" class="pulse"> </div>
                <img src="./assets/Assistant/processor.png" class="assistant-icon" >
        </div>

        <!-- Info Side -->
        <div class="info-section">
            <p class="tip-title">Hello I'm your Assistant and you have new tasks.</p>
            <p class="tip-desc">Welcome to the simulation for PC building please click me to view tasks and for more Information</p>
            <!-- <div class="see-more">...</div>     -->
        </div>
    </div>

    <!-- FULL PAGE INFO / TASKS -->
    <dialog id="assistantFull" class="assistant-full">
        <div class="asst-header">
            <div class="icon-area"></div>
            <div class="button-container">
                <div id="tasksButton" class="asst-button">TASKS</div>
                <div id="errorsButton" class="asst-button">ERRORS</div>
            </div>
        </div>
        <div class="asst-body">
                <div id="tasksContainer" class="asst-container">

                    <!-- <div class="task-cell completed">
                        <div class="task-title">
                            <div class="task-icon">
                                <img src="./assets/Assistant/shop.png">
                            </div>
                            <div class="task-name">
                                <h3>Enter the Shop</h3>
                                <p class="task-status">Completed </p>
                            </div>
                        </div>
                        <div class="vert-br"></div>
                        <div class="task-description">
                                <p>Look for your PC components and buy them.</p>
                                <br>
                                <p>Ensure to check prices and specifications before making a purchase.</p>
                                <p>The components that you will need are the following:</p>
                                <ol>
                                    <li>Case</li>
                                    <li>motherboard</li>
                                    <li>processor</li>
                                    <li>Power Supply Unit</li>
                                    <li>RAM</li>
                                    <li>Storage Device - HDD or SSD</li>
                                    <li>Cooling</li>
                                    <li>GPU or Graphics card</li>
                                </ol>
                                
                                <br>
                                <p  >Check the images below for your reference:</p>
                                <div class="desc-image-carousel">
                                    <img src="assets/Assistant/shop1.png" id="id1" class="desc-image">
                                    <img src="assets/Assistant/shop2.png" id="id2" class="desc-image">
                                    <img src="assets/Assistant/shop3.png" id="id3" class="desc-image">
                                    <img src="./assets/svg/leftArr.svg" class="desc-left">
                                    <img src="./assets/svg/rightArr.svg" class="desc-right">
                                </div>

                                <button class="start-task-btn" data-task="openShop">Start Task</button>
                        </div>
                    </div> -->

                </div>
            <div id="errorsContainer" class="error-container">


                <!--               ERRORS CONTAINER                      -->

                <!-- HELLO ERRORS -->
            </div>
        </div>

    </dialog>

    <!-- Assistant Error Message -->
    <dialog class="err-message">
        <h3>Error!</h3>
    </dialog>

    <!-- Custom Alert Box -->
    <div id="customAlert" class="alert hidden">
        <span id="alertMessage"></span>
        <button id="alertOKButton">OK</button>
    </div>

    <!-- Assistant Reassure -->
    <dialog class="asst-reassure"></dialog>
    
    <div class="chat-toggle">                
        <i class="fas fa-comment"> <img src="./assets/Assistant/chat-bot.png" alt="chatbot"></i>
    </div>
    <div id="chatbot">
        <div class="chat-header">
            <span><img src="../favicon.png" alt="assistant">Build It Assistant</span>
            </span>
            <i class="fas fa-robot"></i>
        </div>
        <div id="chat-messages">
            <!-- Messages will be inserted here -->
        </div>
        <div class="chat-input-container">
            <input type="text" id="chat-input" placeholder="Ask me anything...">
            <button id="chat-send">
                <i class="fas fa-paper-plane"><img src="/simulator/assets/Assistant/send.png" alt="send"></i>
            </button>
        </div>
    </div>
    <!-------------------------- S C R I P T S ------------------------------->
    <script type="module" src="main.js"></script>
    <script>
        [...document.querySelectorAll('*')].forEach(el => {
            let z = window.getComputedStyle(el).zIndex;
            // if (z !== 'auto') console.log(el.tagName, el.className, el.id, '=> z-index:', z);
        });

    </script>
</body>
</html>